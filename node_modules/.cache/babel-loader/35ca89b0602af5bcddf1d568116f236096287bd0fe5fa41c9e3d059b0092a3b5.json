{"ast":null,"code":"import{useState,useCallback}from'react';import{crawlsAPI}from'../Services/api';export const useCrawler=()=>{const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[results,setResults]=useState(null);const[progress,setProgress]=useState(0);const analyzeURL=useCallback(async function(url){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};setLoading(true);setError(null);setProgress(0);try{setProgress(10);// Starting\nconst response=await crawlsAPI.analyzeURL(url,options);setProgress(100);// Complete\nif(response.data.success){setResults(response.data.data);return response.data.data;}else{throw new Error(response.data.error||'Analysis failed');}}catch(err){var _err$response,_err$response$data;const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message||'Unknown error occurred';setError(errorMessage);return null;}finally{setLoading(false);}},[]);const reset=useCallback(()=>{setLoading(false);setError(null);setResults(null);setProgress(0);},[]);return{loading,error,results,progress,analyzeURL,reset};};","map":{"version":3,"names":["useState","useCallback","crawlsAPI","useCrawler","loading","setLoading","error","setError","results","setResults","progress","setProgress","analyzeURL","url","options","arguments","length","undefined","response","data","success","Error","err","_err$response","_err$response$data","errorMessage","message","reset"],"sources":["/home/quantum/Desktop/render-crawl/frontend/src/Hooks/useCrawler.js"],"sourcesContent":["import { useState, useCallback } from 'react';\nimport { crawlsAPI } from '../Services/api';\n\nexport const useCrawler = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [results, setResults] = useState(null);\n  const [progress, setProgress] = useState(0);\n\n  const analyzeURL = useCallback(async (url, options = {}) => {\n    setLoading(true);\n    setError(null);\n    setProgress(0);\n    \n    try {\n      setProgress(10); // Starting\n      \n      const response = await crawlsAPI.analyzeURL(url, options);\n      \n      setProgress(100); // Complete\n      \n      if (response.data.success) {\n        setResults(response.data.data);\n        return response.data.data;\n      } else {\n        throw new Error(response.data.error || 'Analysis failed');\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.error || err.message || 'Unknown error occurred';\n      setError(errorMessage);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const reset = useCallback(() => {\n    setLoading(false);\n    setError(null);\n    setResults(null);\n    setProgress(0);\n  }, []);\n\n  return {\n    loading,\n    error,\n    results,\n    progress,\n    analyzeURL,\n    reset\n  };\n};"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAC7C,OAASC,SAAS,KAAQ,iBAAiB,CAE3C,MAAO,MAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGL,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACM,KAAK,CAAEC,QAAQ,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CAE3C,KAAM,CAAAY,UAAU,CAAGX,WAAW,CAAC,eAAOY,GAAG,CAAmB,IAAjB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACrDV,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACdI,WAAW,CAAC,CAAC,CAAC,CAEd,GAAI,CACFA,WAAW,CAAC,EAAE,CAAC,CAAE;AAEjB,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAhB,SAAS,CAACU,UAAU,CAACC,GAAG,CAAEC,OAAO,CAAC,CAEzDH,WAAW,CAAC,GAAG,CAAC,CAAE;AAElB,GAAIO,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAE,CACzBX,UAAU,CAACS,QAAQ,CAACC,IAAI,CAACA,IAAI,CAAC,CAC9B,MAAO,CAAAD,QAAQ,CAACC,IAAI,CAACA,IAAI,CAC3B,CAAC,IAAM,CACL,KAAM,IAAI,CAAAE,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACb,KAAK,EAAI,iBAAiB,CAAC,CAC3D,CACF,CAAE,MAAOgB,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZ,KAAM,CAAAC,YAAY,CAAG,EAAAF,aAAA,CAAAD,GAAG,CAACJ,QAAQ,UAAAK,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcJ,IAAI,UAAAK,kBAAA,iBAAlBA,kBAAA,CAAoBlB,KAAK,GAAIgB,GAAG,CAACI,OAAO,EAAI,wBAAwB,CACzFnB,QAAQ,CAACkB,YAAY,CAAC,CACtB,MAAO,KAAI,CACb,CAAC,OAAS,CACRpB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAsB,KAAK,CAAG1B,WAAW,CAAC,IAAM,CAC9BI,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAAC,IAAI,CAAC,CACdE,UAAU,CAAC,IAAI,CAAC,CAChBE,WAAW,CAAC,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLP,OAAO,CACPE,KAAK,CACLE,OAAO,CACPE,QAAQ,CACRE,UAAU,CACVe,KACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}